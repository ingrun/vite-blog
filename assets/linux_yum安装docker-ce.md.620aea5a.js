import{_ as s,c as n,o as e,d as a}from"./app.3fd56f67.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"openEuler","slug":"openeuler","link":"#openeuler","children":[{"level":3,"title":"1\u3001\u66F4\u65B0\u7CFB\u7EDF","slug":"_1\u3001\u66F4\u65B0\u7CFB\u7EDF","link":"#_1\u3001\u66F4\u65B0\u7CFB\u7EDF","children":[]},{"level":3,"title":"2\u3001\u5B89\u88C5\u5FC5\u8981\u7684\u8F6F\u4EF6\u5305","slug":"_2\u3001\u5B89\u88C5\u5FC5\u8981\u7684\u8F6F\u4EF6\u5305","link":"#_2\u3001\u5B89\u88C5\u5FC5\u8981\u7684\u8F6F\u4EF6\u5305","children":[]},{"level":3,"title":"3\u3001\u6DFB\u52A0 Docker CE \u5B58\u50A8\u5E93","slug":"_3\u3001\u6DFB\u52A0-docker-ce-\u5B58\u50A8\u5E93","link":"#_3\u3001\u6DFB\u52A0-docker-ce-\u5B58\u50A8\u5E93","children":[]},{"level":3,"title":"4\u3001\u66F4\u65B0\u7D22\u5F15\u7F13\u5B58\u5E76\u5B89\u88C5 Docker CE","slug":"_4\u3001\u66F4\u65B0\u7D22\u5F15\u7F13\u5B58\u5E76\u5B89\u88C5-docker-ce","link":"#_4\u3001\u66F4\u65B0\u7D22\u5F15\u7F13\u5B58\u5E76\u5B89\u88C5-docker-ce","children":[]}]}],"relativePath":"linux/yum\u5B89\u88C5docker-ce.md","lastUpdated":1749626587000}'),l={name:"linux/yum\u5B89\u88C5docker-ce.md"},p=a(`<div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># \u5378\u8F7D\u65E7\u7248\u672C</span></span>
<span class="line"><span style="color:#A6ACCD;">yum remove docker \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                  docker-client \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                  docker-client-latest \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                  docker-common \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                  docker-latest \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                  docker-latest-logrotate \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                  docker-logrotate \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                  docker-engine</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><p>\u6CE8\u610F\uFF0Cdocker \u7684\u672C\u5730\u6587\u4EF6\uFF0C\u5305\u62EC\u955C\u50CF(images), \u5BB9\u5668(containers), \u5B58\u50A8\u5377(volumes)\u7B49\uFF0C\u90FD\u9700\u8981\u624B\u5DE5\u5220\u9664\u3002\u9ED8\u8BA4\u76EE\u5F55\u5B58\u50A8\u5728 <code>/var/lib/docker</code>\u3002</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo rm -rf /var/lib/docker</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># \u5B89\u88C5\u4F9D\u8D56</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install -y yum-utils \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  device-mapper-persistent-data \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  lvm2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">yum update</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install docker-ce</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="openeuler" tabindex="-1">openEuler <a class="header-anchor" href="#openeuler" aria-hidden="true">#</a></h2><h3 id="_1\u3001\u66F4\u65B0\u7CFB\u7EDF" tabindex="-1">1\u3001\u66F4\u65B0\u7CFB\u7EDF <a class="header-anchor" href="#_1\u3001\u66F4\u65B0\u7CFB\u7EDF" aria-hidden="true">#</a></h3><p>\u5728\u5B89\u88C5\u4E4B\u524D\uFF0C\u8BF7\u786E\u4FDD\u60A8\u7684\u7CFB\u7EDF\u5DF2\u7ECF\u66F4\u65B0\u5230\u6700\u65B0\u7248\u672C\u3002\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u66F4\u65B0\u60A8\u7684\u7CFB\u7EDF\uFF1A</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo dnf update </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2\u3001\u5B89\u88C5\u5FC5\u8981\u7684\u8F6F\u4EF6\u5305" tabindex="-1">2\u3001\u5B89\u88C5\u5FC5\u8981\u7684\u8F6F\u4EF6\u5305 <a class="header-anchor" href="#_2\u3001\u5B89\u88C5\u5FC5\u8981\u7684\u8F6F\u4EF6\u5305" aria-hidden="true">#</a></h3><p>\u5B89\u88C5\u6240\u9700\u7684\u8F6F\u4EF6\u5305\u4EE5\u4FBF\u4F7F\u7528 <code>Docker CE</code> \u5B58\u50A8\u5E93\uFF1A</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo dnf install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y dnf</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">plugins</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">core</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_3\u3001\u6DFB\u52A0-docker-ce-\u5B58\u50A8\u5E93" tabindex="-1">3\u3001\u6DFB\u52A0 Docker CE \u5B58\u50A8\u5E93 <a class="header-anchor" href="#_3\u3001\u6DFB\u52A0-docker-ce-\u5B58\u50A8\u5E93" aria-hidden="true">#</a></h3><p>\u6B64\u5904\u6DFB\u52A0 <code>docker-ce.repo</code> \u6E90\uFF1A</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo dnf config</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">manager </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">add</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">repo</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;">//repo.huaweicloud.com/docker-ce/linux/centos/docker-ce.repo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>\u6CE8\u610F\uFF1A\u5728\u4FEE\u6539 <code>docker-ce.repo</code> \u539F\u6587\u4EF6\u4E4B\u524D\uFF0C\u4E3A\u4E86\u4FDD\u9669\u53EF\u4EE5\u6267\u884C\u5982\u4E0B\u547D\u4EE4\u5148 <code>copy</code> \u4E00\u4EFD\u7559\u4F5C\u5907\u4EFD\u3002</p></blockquote><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cp docker</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ce</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">repo docker</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ce</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">repo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bak</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5C06 <code>docker-ce.repo</code> \u4E2D\u5B98\u65B9\u5730\u5740\u66FF\u6362\u4E3A\u534E\u4E3A\u5F00\u6E90\u955C\u50CF\uFF0C\u63D0\u5347\u4E0B\u8F7D\u901F\u5EA6\u3002</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sed </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">i </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s+download.docker.com+repo.huaweicloud.com/docker-ce+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">yum</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">repos</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">docker</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ce</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">repo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>\u8BF4\u660E\uFF1A<code>docker-ce.repo</code> \u4E2D\u7528 <code>$releasever</code> \u53D8\u91CF\u4EE3\u66FF\u5F53\u524D\u7CFB\u7EDF\u7684\u7248\u672C\u53F7\uFF0C\u8BE5\u53D8\u91CF\u5728 <code>CentOS</code> \u4E2D\u6709\u6548\uFF0C\u4F46\u5728 <code>openEuler</code> \u4E2D\u65E0\u6548\uFF0C\u6240\u4EE5\u5C06\u8BE5\u53D8\u91CF\u76F4\u63A5\u6539\u4E3A<code>8</code>\u3002</p></blockquote><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sed -i </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s+$releasever+8+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  /etc/yum.repos.d/docker-ce.repo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_4\u3001\u66F4\u65B0\u7D22\u5F15\u7F13\u5B58\u5E76\u5B89\u88C5-docker-ce" tabindex="-1">4\u3001\u66F4\u65B0\u7D22\u5F15\u7F13\u5B58\u5E76\u5B89\u88C5 Docker CE <a class="header-anchor" href="#_4\u3001\u66F4\u65B0\u7D22\u5F15\u7F13\u5B58\u5E76\u5B89\u88C5-docker-ce" aria-hidden="true">#</a></h3><p>\u66F4\u65B0\u7D22\u5F15\u7F13\u5B58\uFF1A</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">dnf makecache</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u73B0\u5728\u60A8\u53EF\u4EE5\u4F7F\u7528 <code>DNF</code> \u5305\u7BA1\u7406\u5668\u5B89\u88C5 <code>Docker CE</code> \u4E86\uFF1A</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo dnf install -y docker-ce docker-ce-cli containerd.io</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div>`,26),o=[p];function c(r,i,t,d,u,C){return e(),n("div",null,o)}const D=s(l,[["render",c]]);export{b as __pageData,D as default};
